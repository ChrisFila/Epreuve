{% extends "base.html.twig" %}
{% block title %}GSB CR - Nouveau compte rendu{% endblock %}
{% block body %}
	<div class="row mt-5">
		<div class="col-md-2"></div>
		<div class="col-sm-12 col-md-8">

			<h2>Création d'un nouveau compte-rendu</h2>
			{{  form_start(form, { attr: { novalidate: 'novalidate' } }) }}
			
			<div class="row">
				<div class="col-sm-12 col-md-6">
					<h5>Praticien visité :</h5>
					{{ form_widget(form.praticien) }}
				</div>
				<div class="col-sm-12 col-md-6">
					<h5>Date de la visite :</h5>
					{{ form_widget(form.date_visite) }}
				</div>

				<div class="col-sm-12 col-md-8 mt-4">
					<h5>Motif de la visite :</h5>
					{{ form_widget(form.motif) }}
				</div>

				<div class="col-sm-12 col-md-8">
					<h5>Bilan de la visite :</h5>
					{{ form_widget(form.bilan) }}
				</div>
				
				<div class="medicaments_list">
					<div class="medicament_field">
						<div class="row">
							<div class="col-md-5">
								<h5>Médicament :</h5>
								{{ form_widget(form.presentation.0.medicament) }}
							</div>
							<div class="col-md-7"></div>
							<div class="col-md-5">
								<h5>Quantité offerte :</h5>
								{{ form_widget(form.presentation.0.quantite_offerte) }}
							</div>
						</div>
					</div>
				</div>
					
					{# LK >> ajouter les champs supplémentaires si le formulaire est invalide, mais il faudrait changer la mise en forme CSS #}
					{{ form_rest(form) }}

				<div class="col-md-12 text-center mt-3">
					<input type="submit" class="btn btn-info">
				</div>
			</div>
			{{ form_end(form) }}

			{# LK >> supprimer le bouton retirer pour l'insérer en JS #}
			<a href="#" id="add_field">Ajouter</a>
			{# <a href="#" id="remove_field">Retirer</a> #}

		
{% endblock %}



{% block javascripts %}
	{{ parent() }}
	<script src="{{ asset('js/add_field.js') }}" defer></script>
{% endblock %}


